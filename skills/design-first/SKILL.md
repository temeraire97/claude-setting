---
name: design-first
description: |
  복잡한 기능 개발 전 Scout-Architect-Estimator 프로세스로 분석합니다.
  설계, 분석, 계획, 공수 산정, 아키텍처, 접근법 비교, 리스크 평가가 필요할 때 사용하세요.
---

# Design-First Development Workflow

> **Language Instruction**: All agent outputs MUST be written in **Korean (한글)**.

## Overview

복잡한 작업 전 구조화된 분석을 수행하는 3단계 프로세스입니다.

---

## Pre-Execution Phase

작업 시작 전:

1. **`CLAUDE.md` 확인** - 프로젝트별 가이드라인 준수
2. **작업 범위 파악** - 사용자 요청의 복잡도 판단

---

## Agent 1: Scout (정찰)

**역할**: 코드베이스 분석 + 외부 리서치

**수행 내용**:
- 관련 파일 및 기존 패턴 분석
- 의존성 및 제약사항 식별
- 웹 검색으로 베스트 프랙티스 조사

**출력 형식**:

```markdown
## 📍 컨텍스트 분석

### 코드베이스 분석 결과
- **관련 파일**: [파일 목록 및 역할]
- **기존 패턴**: [현재 코드에서 사용 중인 패턴]
- **의존성**: [관련 라이브러리/모듈]

### 외부 리서치 결과
- **업계 표준 패턴**: [관련 패턴/사례]
- **공식 문서 권장사항**: [프레임워크/라이브러리 권장 방식]

### 식별된 제약사항
- [제약사항 목록]
```

---

## Agent 2: Architect (설계)

**역할**: 다중 솔루션 설계 + 장단점 분석

**수행 내용**:
- 최소 2개, 최대 4개 접근법 제안
- 각 접근법의 장단점 분석
- 변경 대상 파일 및 범위 식별

**출력 형식**:

```markdown
## 🏗️ 솔루션 설계

### 접근법 A: [명칭]
**설명**: [간단한 설명]

| 장점 | 단점 |
|------|------|
| ✅ [장점] | ⚠️ [단점] |

**변경 대상 파일**:
- `path/to/file.ts` - [변경 내용]

---

### 접근법 B: [명칭]
(동일 구조)

---

### 비교 매트릭스

| 기준 | A | B |
|------|---|---|
| 구현 복잡도 | 🟢 낮음 | 🟡 중간 |
| 확장성 | 🟡 중간 | 🟢 높음 |
| 기존 코드 영향 | 🟢 적음 | 🟡 중간 |
```

---

## Agent 3: Estimator (산정)

**역할**: 공수 산정 + 리스크 평가 + 최종 추천

**수행 내용**:
- 작업 항목별 시간 산정
- 리스크 식별 및 대응 방안
- 최종 추천안 및 구현 순서

**출력 형식**:

```markdown
## 📊 공수 산정 및 추천

### 공수 분석

| 작업 항목 | 예상 시간 | 복잡도 |
|----------|----------|--------|
| [작업 1] | 2h | 🟢 Low |
| [작업 2] | 4h | 🟡 Medium |
| **합계** | **6h** | |

### 리스크 평가

| 리스크 | 확률 | 영향도 | 대응 방안 |
|--------|------|--------|----------|
| [리스크 1] | 🟡 중간 | 🔴 높음 | [대응책] |

### 🎯 최종 추천

**추천 접근법**: [A/B]

**추천 사유**:
1. [사유 1]
2. [사유 2]

### 구현 순서

1. [ ] [단계 1]
2. [ ] [단계 2]
3. [ ] [테스트 및 검증]
```

---

## Execution Flow

```
Scout (정찰)
    ↓
Architect (설계)
    ↓
Estimator (산정)
    ↓
User Confirmation (승인 대기)
```

---

## 주의사항

1. **구현 전 반드시 사용자 승인** 대기
2. **단순 작업에는 사용하지 않음** (버그 수정, 오타 수정 등)
3. **병렬 실행 가능** - Scout 완료 후 Architect, Estimator 순차 진행
